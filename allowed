local ALLOWED_HWIDS = {
    ["HWID_ABCD1234"] = true,
    -- Добавьте свои HWID
}

--- Функция получения HWID (аппаратный ID)
local function GetHWID()
    -- Если используется Synapse X, Cheat Engine или другие инжекторы
    if syn and syn.get_hwid then
        return "HWID_" .. syn.get_hwid()
    elseif get_hwid then
        return "HWID_" .. get_hwid()
    else
        -- Альтернативные методы (Windows)
        local cmd = "wmic csproduct get uuid"
        local handle = io.popen(cmd)
        local result = handle:read("*a")
        handle:close()
        
        -- Обработка вывода (пример для Windows)
        if result then
            local hwid = result:match("UUID%s+(%x+-%x+-%x+-%x+-%x+)")
            if hwid then
                return "HWID_" .. hwid:gsub("-", "")
            end
        end
        
        -- Если ничего не сработало
        return "HWID_UNKNOWN"
    end
end

--- Проверка HWID
local function CheckHWID()
    local my_hwid = GetHWID()
    print("Ваш HWID:", my_hwid)
    
    if not ALLOWED_HWIDS[my_hwid] then
        print("ОШИБКА: Ваш HWID не в списке разрешенных!")
        os.exit() -- Завершение программы
        -- Или: error("Доступ запрещен!")
    else
        print("Доступ разрешен!")
    end
end

--- Запуск проверки
CheckHWID()
